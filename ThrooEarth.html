<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ThrooEarth</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
	    crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
	    crossorigin=""></script>
	<link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="node_modules/bulma.css">
</head>

<body>
	<center>
		<header class="center">
			<a href="index.html">~HOME~</a>
		</header>
		<section>
			<div class="container">
				<h1 class="title">
					Throo Earth
				</h1>
			</div>
		</section>
		<p>
			A small web app that tells you where you would end up if you dug through the center of the earth. Click on either map.
		</p>

		<div id="map1" style="width: sc; height: 300px;"></div>

		<div id="map2" style="width: sc; height: 300px;"></div>

		<script>
			var map1 = L.map('map1').setView([50.0, 50.0], 2);
			L.tileLayer(
				'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
					maxZoom: 18,
					attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
						'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
						'Imagery © <a href="http://mapbox.com">Mapbox</a>',
					id: 'mapbox.streets'
				}).addTo(map1);

			var map2 = L.map('map2').setView([50.0, 50.0], 2);
			L.tileLayer(
				'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
					maxZoom: 18,
					attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
						'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
						'Imagery © <a href="http://mapbox.com">Mapbox</a>',
					id: 'mapbox.streets'
				}).addTo(map2);

			var lat1 = 0.0;
			var lng1 = 0.0;
			var lat2 = 0.0;
			var lng2 = 180.0;

			var marker1 = L.marker();
			var marker2 = L.marker();
			var popup1 = L.popup();
			var popup2 = L.popup();

			function map1Click(e1) {
				lat1 = e1.latlng.lat;
				lng1 = e1.latlng.lng;
				lat2 = -e1.latlng.lat;
				lng2 = e1.latlng.lng - 180;

				// marker1
				// 	.setLatLng([lat1, lng1])
				// 	.openOn(map1);
				// marker2
				// 	.setLatLng([lat2, lng2])
				// 	.openOn(map2);
				popup1
					.setLatLng(e1.latlng)
					.setContent("(" + lat1.toFixed(3).toString() + ", " + lng1.toFixed(3).toString() + ")")
					.openOn(map1);
				popup2
					.setLatLng([lat2, lng2])
					.setContent("(" + lat2.toFixed(3).toString() + ", " + lng2.toFixed(3).toString() + ")")
					.openOn(map2);
				map1.panTo(e1.latlng);
				map2.panTo([lat2, lng2]);
			}

			function map2Click(e2) {
				lat1 = -e2.latlng.lat;
				lng1 = e2.latlng.lng - 180;

				lat2 = e2.latlng.lat;
				lng2 = e2.latlng.lng;


				popup1
					.setLatLng([lat1, lng1])
					.setContent("(" + lat1.toFixed(3).toString() + ", " + lng1.toFixed(3).toString() + ")")
					.openOn(map1);
				popup2
					.setLatLng([lat2, lng2])
					.setContent("(" + lat2.toFixed(3).toString() + ", " + lng2.toFixed(3).toString() + ")")
					.openOn(map2);

				map1.panTo([lat1, lng1]);
				map2.panTo([lat2, lng2]);
			}

			map1.on('click', map1Click);
			map2.on('click', map2Click);
		</script>

		<a href="index.html" class="center-block">HOME</a>

		<footer class="myFooter center-block">
			copyright © 2017 jesse rubin?
		</footer>
	</center>
</body>

</html>